<ion-content [fullscreen]="true" class="payment-content">
  <!-- Enhanced Header Section -->
  <div class="header-section">
    <div class="header-background">
      <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
      </div>
    </div>
    
    <div class="header-top">
      <div class="header-left">
        <div class="go-text">PAY</div>
        <div class="delivery-time">Your Digital Wallet</div>
        <div class="balance-card">
          <div class="balance-content">
            <div class="balance-label">Available Balance</div>
            <div class="balance-amount">â‚¹12,34,567.89</div>
            <div class="balance-change">+2.5% this month</div>
          </div>
          <div class="wallet-icon">
            <ion-icon name="wallet" class="wallet-icon-svg"></ion-icon>
          </div>
        </div>
      </div>
      <div class="header-right">
        <div class="avatar-container">
          <ion-avatar class="profile-avatar">
            <img [src]="profileAvatarUrl" />
          </ion-avatar>
          <div class="online-indicator"></div>
        </div>
      </div>
    </div>

    <!-- Enhanced Search Bar -->
    <div class="search-section">
      <div class="search-container">
        <ion-searchbar
          [placeholder]="currentPlaceholder"
          animated="true"
          class="custom-searchbar"
          debounce="500">
        </ion-searchbar>
        <div class="search-decoration">
          <div class="pulse-dot"></div>
        </div>
      </div>
    </div>

    <!-- Enhanced Categories -->
    <div class="categories-section">
      <div class="categories-scroll">
        <ion-chip 
          *ngFor="let category of categories" 
          [class.active]="category.name === selectedCategory"
          class="category-chip"
          (click)="filterByCategory(category.name)">
          <div class="chip-icon-wrapper">
            <ion-icon [name]="category.icon"></ion-icon>
          </div>
          <ion-label>{{ category.name }}</ion-label>
        </ion-chip>
      </div>
    </div>
  </div>

  <!-- Enhanced Main Content -->
  <div class="payment-container">
    <!-- Quick Actions -->
    <div class="quick-actions">
      <div class="action-card" (click)="scanQR()">
        <div class="action-icon qr-icon">
          <ion-icon name="qr-code"></ion-icon>
        </div>
        <div class="action-text">Scan QR</div>
      </div>
      <div class="action-card" (click)="sendMoney()">
        <div class="action-icon send-icon">
          <ion-icon name="send"></ion-icon>
        </div>
        <div class="action-text">Send</div>
      </div>
      <div class="action-card" (click)="requestMoney()">
        <div class="action-icon request-icon">
          <ion-icon name="download"></ion-icon>
        </div>
        <div class="action-text">Request</div>
      </div>
      <div class="action-card" (click)="viewCards()">
        <div class="action-icon cards-icon">
          <ion-icon name="card"></ion-icon>
        </div>
        <div class="action-text">Cards</div>
      </div>
    </div>

    <!-- Enhanced Transactions -->
    <div class="transactions-section">
      <div class="section-header">
        <h2>Recent Transactions</h2>
        <button class="view-all-btn">View All</button>
      </div>
      
      <div class="transactions-list">
        <ion-list>
          <ion-item *ngFor="let transaction of filteredTransactions" class="transaction-item">
            <ion-avatar slot="start" class="transaction-avatar">
              <div class="avatar-background" [class]="transaction.type">
                <img [src]="transaction.avatar" />
              </div>
            </ion-avatar>
            <ion-label class="transaction-details">
              <h3 class="transaction-name">{{ transaction.name }}</h3>
              <p class="transaction-date">{{ transaction.date }}</p>
              <p class="transaction-category">{{ transaction.category }}</p>
            </ion-label>
            <div class="transaction-amount" [class]="transaction.amountClass">
              <span class="amount">{{ transaction.amount }}</span>
              <ion-icon 
                [name]="transaction.amount.startsWith('+') ? 'trending-up' : 'trending-down'" 
                class="trend-icon">
              </ion-icon>
            </div>
          </ion-item>
        </ion-list>
      </div>
    </div>
  </div>

  <!-- Enhanced FAB - Fixed Position -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" class="main-fab">
    <ion-fab-button class="fab-button" (click)="newPayment()">
      <ion-icon name="add" class="fab-icon"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>