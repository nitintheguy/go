<ion-content [fullscreen]="true" class="edit-profile-content">
  <!-- Header -->
  <div class="edit-header">
    <ion-button fill="clear" class="back-button" (click)="goBack()">
      <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
    </ion-button>
    <h2>Edit Profile</h2>
    <div class="header-spacer"></div>
  </div>

  <!-- Avatar Section -->
  <div class="avatar-section">
    <div class="avatar-wrapper">
      <ion-avatar class="profile-avatar-large">
        <img [src]="profileForm.get('avatar')?.value" />
      </ion-avatar>
      <div class="edit-avatar-overlay" (click)="triggerFileInput()">
        <ion-icon name="camera"></ion-icon>
        <span>Change Photo</span>
      </div>
      <input 
        type="file" 
        #fileInput 
        accept="image/*" 
        style="display: none;"
        (change)="onFileSelected($event)">
    </div>
  </div>

  <!-- Form Section -->
  <div class="form-section">
    <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
      <ion-list>
        <!-- Full Name -->
        <ion-item class="form-item">
          <ion-label position="stacked">Full Name</ion-label>
          <ion-input
            formControlName="name"
            placeholder="Enter your full name"
            type="text">
          </ion-input>
        </ion-item>

        <!-- Email -->
        <ion-item class="form-item">
          <ion-label position="stacked">Email</ion-label>
          <ion-input
            formControlName="email"
            placeholder="Enter your email"
            type="email">
          </ion-input>
        </ion-item>

        <!-- Phone -->
        <ion-item class="form-item">
          <ion-label position="stacked">Phone Number</ion-label>
          <ion-input
            formControlName="phone"
            placeholder="Enter your phone number"
            type="tel">
          </ion-input>
        </ion-item>

        <!-- Address -->
        <ion-item class="form-item">
          <ion-label position="stacked">Address</ion-label>
          <ion-textarea
            formControlName="address"
            placeholder="Enter your complete address"
            rows="3">
          </ion-textarea>
        </ion-item>
      </ion-list>

      <!-- Save Button -->
      <div class="button-section">
        <ion-button expand="block" type="submit" class="save-btn" [disabled]="!profileForm.valid">
          <ion-icon name="checkmark" slot="start"></ion-icon>
          Save Changes
        </ion-button>
        <ion-button expand="block" fill="outline" class="cancel-btn" (click)="goBack()">
          Cancel
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>

